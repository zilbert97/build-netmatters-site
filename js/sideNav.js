"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _createClass(t,i,s){return i&&_defineProperties(t.prototype,i),s&&_defineProperties(t,s),t}var SideMenu=function(){function t(){_classCallCheck(this,t),this.scrollPosition=window.pageYOffset,this.isSticky=null,this.page=$("#page-content"),this.button=$("#hamburger-button"),this.mediaQuery=window.matchMedia("(min-width: 992px)"),this.init=function(){$("#page-content").parent().append($('<div id="page-cover"></div>').css({display:"none",position:"fixed",top:0,right:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,.5)",cursor:"pointer",zIndex:5001,opacity:0,transitionPorperty:"opacity",transition:"0.5s"})),this.mediaQuery.addListener(function(){this.page.hasClass("mobile-nav-open")&&(this.page.css({transform:"translateX(-".concat(this.sideNavWidth(),"px)"),transitionProperty:"",transition:""}),$("#page-cover").css({transform:"translateX(-".concat(this.sideNavWidth(),"px)"),transitionProperty:"opacity"}))}.bind(this))}.bind(this),this.init()}return _createClass(t,[{key:"scrollPosition",get:function(){return this._scrollPosition},set:function(t){this._scrollPosition=t}},{key:"headerIsSticky",get:function(){return this._headerIsSticky},set:function(t){this._headerIsSticky=t}},{key:"showHideMobileNav",value:function(){this.page.toggleClass("mobile-nav-open");var t=$("#sticker"),i=parseInt(t.css("height"));if(this.page.hasClass("mobile-nav-open")){t.parent().hasClass("is-sticky")?this.headerIsSticky=!0:this.headerIsSticky=!1,this.scrollPosition=window.pageYOffset,$(window).off("scroll"),this.page.css({transform:"translateX(-".concat(this.sideNavWidth(),"px)"),position:"fixed",overflowY:"scroll",overflowX:"hidden",top:"-".concat(this.scrollPosition,"px"),width:"100%",minHeight:"100%",transitionProperty:"transform",transition:"500ms"});var s=$('<div id="header-stent"></div>').css({height:"".concat(i,"px"),width:"100%",display:"block"});this.headerIsSticky&&(t.removeClass("slide-up slide-down"),t.unstick(),t.parent().css("position","relative"),t.parent().prepend(s),t.css({position:"absolute",top:"".concat(this.scrollPosition,"px"),right:"0",zIndex:5e3,width:"100%"}),window.scroll(0,0))}else this.page.css({transform:"translateX(0)",transitionProperty:"transform",transition:"500ms"}),setTimeout(function(){this.page.removeAttr("style"),$("#header-stent").remove(),this.headerIsSticky&&makeSticky(t),window.scroll(0,this.scrollPosition),$(window).one("scroll",function(){createScrollSpy(t)})}.bind(this),510)}},{key:"triggerSideNav",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=$("#page-cover");this.showHideMobileNav(),setTimeout(function(){this.button.toggleClass("is-active")}.bind(this),15),t?(i.css("display","block"),setTimeout(function(){i.css({transitionProperty:"opacity, transform",opacity:1,transform:"translateX(-".concat(this.sideNavWidth(),"px)")})}.bind(this),15)):(i.css({opacity:0,transform:"translateX(0)"}),setTimeout(function(){i.css("display","none")},510))}},{key:"sideNavWidth",value:function(){return this.mediaQuery.matches?335:275}}]),t}();
